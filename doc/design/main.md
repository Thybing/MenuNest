# MenuNest

## 需求

用纯C语言开发一个主要面向嵌入式的多级菜单框架，要求具有可移植，解耦合，足够灵活可二次开发等特点。

## 设计

### 菜单对象（单例）
菜单对象中具有：

当前页面对象指针，初始指向MainPage。
页面对象指针的栈，记录页面历史跳转。
交互模块,用于处理交互。
交互管理模块，用于接受外部输入。统筹管理菜单中所有交互模块。

页面跳转。
页面返回。

### 页面对象
页面对象具有：

子对象指针表。
当前子对象指针。
添加子对象。
交互模块。
页面显示模块。

### 物品对象(MN_item)
类似于抽象类
每一个对象具有交互模块，我们在中选定该对象后，输入将会绑定到此交互模块。
每一个对象具有显示模块，我们在刷新页面或者刷新对象显示时，会调用显示接口。
每一个对象具有一定的内存空间，每一个对象都可以访问到对象所拥有的内存。

例如页面对象的物品对象可以是以下：
字符串框
页面入口
键值对
启用项
互斥选项组
......(可扩展)

### 交互模块(interaction)
对于给定的输入，可以进行对应的操作及输出。

### 显示模块
一个渲染模块，有回调函数，持有拥有渲染模块的对象的指针，持有自己的属性内存。
拥有渲染模块的对象的中有要渲染的信息。
属性内存可以使得渲染操作更加灵活。
可自定义回调函数，回调函数需要知道拥有渲染模块的对象的类型，属性内存的类型，可以读取持有渲染模块的对象的内存，可以读写属性内存。

## 开发
